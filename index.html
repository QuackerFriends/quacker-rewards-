<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Quacker Friends Shop</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --accent1:#ff914d;
      --accent2:#ff7b2c;
      --muted:#f5f7fa;
      --card:#ffffff;
      --shadow:0 8px 20px rgba(12,12,20,0.06);
      --radius:14px;
    }
    body { font-family:'Poppins',sans-serif;margin:0;background:linear-gradient(180deg,#fbfcff,#f5f7fa);min-height:100vh; }
    header {display:flex;justify-content:space-between;align-items:center;padding:18px 32px;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;}
    .btn {padding:10px 16px;background:var(--accent1);color:white;border:none;border-radius:999px;cursor:pointer;font-weight:600;display:inline-flex;align-items:center;gap:8px;}
    .btn.secondary {background:transparent;color:white;border:1px solid rgba(255,255,255,0.18);}
    main {padding:30px 20px;max-width:1100px;margin:0 auto;}
    #items {display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:22px;}
    .item {border-radius:var(--radius);padding:18px;background:var(--card);text-align:center;box-shadow:var(--shadow);}
    .item img {width:100%;height:180px;object-fit:cover;border-radius:10px;margin-bottom:12px;background:#eee;}
    .item h3 {margin:6px 0;font-size:16px;font-weight:700;}
    .price {font-weight:700;color:var(--accent2);}

    /* Toast container */
    #toastWrap {
      position: fixed;
      top: 70px;
      right: 20px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .toast {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 14px;
      border-radius: 8px;
      font-size: 14px;
      color: white;
      min-width: 200px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      animation: fadein 0.4s, fadeout 0.5s 3.5s;
    }
    .toast.success { background: #28a745; }
    .toast.error   { background: #dc3545; }
    .toast.warn    { background: #ffc107; color: #222; }
    .toast.info    { background: #17a2b8; }

    .toast .close-btn {
      margin-left: auto;
      cursor: pointer;
      font-weight: bold;
    }

    @keyframes fadein { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
    @keyframes fadeout { from {opacity:1;} to {opacity:0; transform:translateY(-10px);} }
  </style>
</head>
<body>
  <header>
    <h1>ðŸ¦† Quacker Friends Shop</h1>
    <div>
      <button id="connectWallet" class="btn">Connect Wallet</button>
      <button id="profileButton" class="btn secondary" style="display:none">Profile</button>
    </div>
  </header>

  <main>
    <section id="items"></section>
  </main>

  <div id="profileSection"></div>
  <div id="toastWrap" aria-live="polite"></div>

  <!-- Lucide icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <script>
    /***********************
     * Toast system with icons
     ***********************/
    function showToast(message, type = "info", duration = 4000) {
      const wrap = document.getElementById("toastWrap");
      const t = document.createElement("div");
      t.className = "toast " + type;

      const icon = {
        success: "check-circle",
        error: "x-circle",
        warn: "alert-triangle",
        info: "info"
      }[type] || "info";

      t.innerHTML = `
        <i data-lucide="${icon}" class="icon"></i>
        <span>${message}</span>
        <span class="close-btn" onclick="this.parentElement.remove()">âœ•</span>
      `;

      wrap.appendChild(t);
      lucide.createIcons({ icons: { [icon]: lucide.icons[icon] } }); // refresh icons

      if (duration > 0) setTimeout(()=> t.remove(), duration);
    }

    /***********************
     * Your existing logic (unchanged)
     ***********************/
    const PRODUCTS = [
      { id: "pumpkin-keychain", title: "Pumpkin Crochet Keychain", price: "0.001", img: "https://via.placeholder.com/400x300?text=Pumpkin+Keychain" },
      { id: "cat-beanie", title: "Cat Beanie", price: "0.0025", img: "https://via.placeholder.com/400x300?text=Cat+Beanie" },
      { id: "pumpkin-duck", title: "Pumpkin Duck Plushie", price: "0.005", img: "https://via.placeholder.com/400x300?text=Pumpkin+Duck+Plushie" }
    ];

    function renderItems() {
      const container = document.getElementById("items");
      container.innerHTML = "";
      PRODUCTS.forEach(p => {
        const el = document.createElement("div");
        el.className = "item";
        el.innerHTML = `
          <img src="${p.img}" alt="${p.title}" />
          <h3>${p.title}</h3>
          <p class="price">${p.price} ETH</p>
          <button class="btn">Buy</button>
        `;
        el.querySelector("button").addEventListener("click", () => {
          showToast("Clicked buy for " + p.title, "success");
        });
        container.appendChild(el);
      });
    }
    renderItems();
  </script>
</body>
</html>
